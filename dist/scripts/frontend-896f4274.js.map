{"version":3,"file":"frontend-896f4274.js","mappings":"sBAKA,MAAMA,EAAwBC,SAASC,iBAAiB,sCAExD,GAAIF,GAAuBG,OAAS,EAAG,CAMrC,IAAIC,GAAgB,EAKpB,MAAMC,EAA+BA,KACnCD,GAAgB,CAAK,EAMjBE,EAA6BA,KACjCF,GAAgB,CAAI,EAShBG,EAAoBA,CAACC,EAAOC,KAEhC,IAAKL,EACH,OAGF,MAAMM,EAAiBD,EAAqBE,cAC1C,iDAGIC,EAA2BF,GAAgBG,eAAeC,WAAWC,SACzE,iDAGIC,EAASJ,EAA2BJ,GAAOS,QAAUT,GAAOU,QAC5DC,EAAgBX,GAAOY,QAAQC,wBAErC,IAAIC,GACAN,GAFyBJ,EAA2BO,GAAeI,EAAIJ,GAAeK,KAGrFZ,EAA2BO,GAAeM,OAASN,GAAeO,OACrE,IAEEJ,EAAW,EACbA,EAAW,EACFA,EAAW,MACpBA,EAAW,KAGbb,EAAqBkB,MAAMC,YACzB,sDACAN,EACD,EASGO,EAAqBA,CAACrB,EAAOC,KACjC,MAAMqB,EAAUtB,GAAOsB,QACvB,IAAIR,EAEJ,MAAMZ,EAAiBD,EAAqBE,cAC1C,iDAGIC,EAA2BF,GAAgBG,eAAeC,WAAWC,SACzE,iDAGIgB,EAAkBnB,EAA2B,CAAC,GAAI,IAAM,CAAC,GAAI,IAEnE,IAAKmB,EAAgBC,SAASF,GAC5B,OAGFtB,EAAMyB,iBAEN,MAAMC,EAAkBC,SACtB1B,EAAqBkB,MAAMS,iBACzB,uDAEF,IAIAd,EADuC,IAArCS,EAAgBM,QAAQP,GACfI,EAAkB,GAElBA,EAAkB,GAG3BZ,EAAW,EACbA,EAAW,EACFA,EAAW,MACpBA,EAAW,KAGbb,EAAqBkB,MAAMC,YACzB,sDACAN,EACD,EAMHtB,GAAuBsC,SAAS7B,IAC9B,MAAMC,EAAiBD,EAAqBE,cAC1C,iDAGI4B,EAAgB9B,EAAqBE,cACzC,sDAGFD,EAAe8B,iBAAiB,cAAelC,GAC/CI,EAAe8B,iBAAiB,eAAgBhC,GAC9CD,EAAkBC,EAAOC,KAG3B8B,EAAcC,iBAAiB,WAAYhC,GACzCqB,EAAmBrB,EAAOC,IAC3B,IAMHgC,OAAOD,iBAAiB,YAAanC,EACvC,C,GCjJIqC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CCrBAJ,EAAoBO,EAAKF,IACxB,IAAIG,EAASH,GAAUA,EAAOI,WAC7B,IAAOJ,EAAiB,QACxB,IAAM,EAEP,OADAL,EAAoBU,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdR,EAAoBU,EAAI,CAACN,EAASQ,KACjC,IAAI,IAAIC,KAAOD,EACXZ,EAAoBc,EAAEF,EAAYC,KAASb,EAAoBc,EAAEV,EAASS,IAC5EE,OAAOC,eAAeZ,EAASS,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDb,EAAoBc,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,G","sources":["webpack://@bigbite/bigbite-image-comparison/./src/blocks/image-comparison/frontend.js","webpack://@bigbite/bigbite-image-comparison/webpack/bootstrap","webpack://@bigbite/bigbite-image-comparison/webpack/runtime/compat get default export","webpack://@bigbite/bigbite-image-comparison/webpack/runtime/define property getters","webpack://@bigbite/bigbite-image-comparison/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["/**\n * A list of `bigbite/image-comparison` blocks\n *\n * @type {NodeList}\n */\nconst imageComparisonBlocks = document.querySelectorAll('.wp-block-bigbite-image-comparison');\n\nif (imageComparisonBlocks?.length > 0) {\n  /**\n   * `pointerdown` event state\n   *\n   * @type {bool}\n   */\n  let isPointerDown = false;\n\n  /**\n   * Deactivate `pointerdown` cached state\n   */\n  const deactivateIsPointerDownState = () => {\n    isPointerDown = false;\n  };\n\n  /**\n   * Activate `pointerdown` cached state\n   */\n  const activateIsPointerDownState = () => {\n    isPointerDown = true;\n  };\n\n  /**\n   * Controls the image comparison via pointer inputs\n   *\n   * @param {object}  event                pointermove event\n   * @param {element} imageComparisonBlock Image comparison block element\n   */\n  const pointerController = (event, imageComparisonBlock) => {\n    // skip if `pointer` is not in a `pointerdown` state\n    if (!isPointerDown) {\n      return;\n    }\n\n    const imageContainer = imageComparisonBlock.querySelector(\n      '.wp-block-bigbite-image-comparison__container',\n    );\n\n    const hasHorizontalAxisDivider = imageContainer?.parentElement?.classList?.contains(\n      'wp-block-bigbite-image-comparison--horizontal',\n    );\n\n    const client = hasHorizontalAxisDivider ? event?.clientY : event?.clientX;\n    const targetDOMRect = event?.target?.getBoundingClientRect();\n    const targetPositionOffset = hasHorizontalAxisDivider ? targetDOMRect?.y : targetDOMRect?.x;\n    let position =\n      ((client - targetPositionOffset) /\n        (hasHorizontalAxisDivider ? targetDOMRect?.height : targetDOMRect?.width)) *\n      100;\n\n    if (position < 0) {\n      position = 0;\n    } else if (position > 100) {\n      position = 100;\n    }\n\n    imageComparisonBlock.style.setProperty(\n      '--bigbite-image-comparison-divider-initial-position',\n      position,\n    );\n  };\n\n  /**\n   * Controls the image comparison via keyboard inputs\n   *\n   * @param {object}  event                keydown event\n   * @param {element} imageComparisonBlock Image comparison block element\n   */\n  const keyboardController = (event, imageComparisonBlock) => {\n    const keyCode = event?.keyCode;\n    let position;\n\n    const imageContainer = imageComparisonBlock.querySelector(\n      '.wp-block-bigbite-image-comparison__container',\n    );\n\n    const hasHorizontalAxisDivider = imageContainer?.parentElement?.classList?.contains(\n      'wp-block-bigbite-image-comparison--horizontal',\n    );\n\n    const allowedKeycodes = hasHorizontalAxisDivider ? [38, 40] : [37, 39];\n\n    if (!allowedKeycodes.includes(keyCode)) {\n      return;\n    }\n\n    event.preventDefault();\n\n    const currentPosition = parseInt(\n      imageComparisonBlock.style.getPropertyValue(\n        '--bigbite-image-comparison-divider-initial-position',\n      ),\n      10,\n    );\n\n    if (allowedKeycodes.indexOf(keyCode) === 0) {\n      position = currentPosition - 10;\n    } else {\n      position = currentPosition + 10;\n    }\n\n    if (position < 0) {\n      position = 0;\n    } else if (position > 100) {\n      position = 100;\n    }\n\n    imageComparisonBlock.style.setProperty(\n      '--bigbite-image-comparison-divider-initial-position',\n      position,\n    );\n  };\n\n  /**\n   * Setup event listeners and selectors on each block\n   */\n  imageComparisonBlocks?.forEach((imageComparisonBlock) => {\n    const imageContainer = imageComparisonBlock.querySelector(\n      '.wp-block-bigbite-image-comparison__container',\n    );\n\n    const dividerButton = imageComparisonBlock.querySelector(\n      '.wp-block-bigbite-image-comparison__divider button',\n    );\n\n    imageContainer.addEventListener('pointerdown', activateIsPointerDownState);\n    imageContainer.addEventListener('pointermove', (event) =>\n      pointerController(event, imageComparisonBlock),\n    );\n\n    dividerButton.addEventListener('keydown', (event) =>\n      keyboardController(event, imageComparisonBlock),\n    );\n  });\n\n  /**\n   * Deactivate `pointerdown` cached state\n   */\n  window.addEventListener('pointerup', deactivateIsPointerDownState);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["imageComparisonBlocks","document","querySelectorAll","length","isPointerDown","deactivateIsPointerDownState","activateIsPointerDownState","pointerController","event","imageComparisonBlock","imageContainer","querySelector","hasHorizontalAxisDivider","parentElement","classList","contains","client","clientY","clientX","targetDOMRect","target","getBoundingClientRect","position","y","x","height","width","style","setProperty","keyboardController","keyCode","allowedKeycodes","includes","preventDefault","currentPosition","parseInt","getPropertyValue","indexOf","forEach","dividerButton","addEventListener","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"sourceRoot":""}